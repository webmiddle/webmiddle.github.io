{{#markdown}}
### Main

```jsx
function Main(props) {
  const { sites: siteNames } = props;
  return (
    <Pipe>
      <Parallel name="articlesBySite">
        {siteNames.map(siteName => {
          const site = sites[siteName];
          return (
            <SiteMain
              {...props}
              site={site}
              name={siteName}
            />
          );
        })}
      </Parallel>

      {({ articlesBySite }) =>
        <MergeArticles
          name="articles"
          articlesBySite={articlesBySite}
        />
      }
    </Pipe>
  );
}
```

The service processes in parallel each site by using its site handler by
means of the **SiteMain** service.

Once all the “articles by site” have been fetched, the final resource is
created by merging them all by using the **MergeArticles** resource.
{{/markdown}}